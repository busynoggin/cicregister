{namespace cr = Tx_Cicregister_ViewHelpers}

<f:layout name="Default" />

<f:section name="main">
	<div class="Cicregister">
		<h1>Create a New Account</h1>

		<f:if condition="{viewSettings.disableAjax}">
			<f:then>
				<f:flashMessages class="flash-messages"/>
			</f:then>
			<f:else>
			</f:else>
		</f:if>

		<f:form method="post"
				pageUid="{viewSettings.formTargetPid}"
				action="create"
				name="frontendUser"
				class="CicregisterForm {f:if(condition:'{viewSettings.disableAjax}', then:'CicregisterForm-New-AjaxDisabled', else:'CicregisterForm-New-Ajax')} CicregisterForm-New"
				id="cicregister-newform"
				object="{frontendUser}">

			<div class="form-row form-two-col">
				<div class="form-first-col">
					<f:render partial="TextInput" arguments="{propertyName: 'firstName', propertyLabel: 'First Name'}"/>
				</div>
				<div class="form-second-col">
					<f:render partial="TextInput" arguments="{propertyName: 'lastName', propertyLabel: 'Last Name'}"/>
				</div>
			</div>

			<div class="form-row form-two-col">
				<div class="form-first-col">
					<label for="cicregister-password">Password: </label>
					<div class="input">
						<f:form.password class="{cr:ifIsError(key:'password', then:'f3-form-error')}" id="cicregister-password" name="password[]"/>
					</div>
					<div id="cicregister-password-errors" class="errorWrap">
						<f:render partial="FieldError.html" arguments="{property: 'password'}"/>
					</div>
				</div>

				<div class="form-second-col">
					<label for="cicregister-confirmPassword">Confirm Password: </label>
					<div class="input">
						<f:form.password class="{cr:ifIsError(key:'password', then:'f3-form-error')}" id="cicregister-confirmPassword" name="password[]"/>
					</div>
					<div id="cicregister-confirmPassword-errors" class="errorWrap">
						<f:render partial="FieldError.html" arguments="{property: 'password'}"/>
					</div>
				</div>
			</div>

			<div class="form-row">
				<f:render partial="TextInput" arguments="{propertyName: 'email', propertyLabel: 'Email Address'}"/>
			</div>

			<div class="form-row">
				<div class="input">
					<input id="cicregister-submitButton" data-loading-text="Processing sign-up..."
						   class="btn primary" type="submit" name="" value="Create Account">
				</div>
			</div>
		</f:form>
	</div>

</f:section>